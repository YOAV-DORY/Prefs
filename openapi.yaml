openapi: 3.1.0
info:
  title: Prefs API
  version: 1.0.0
servers:
  - url: https://PREFS_API_URL
paths:
  /v1/preferences/{userId}:
    get:
      operationId: getUserPreferences
      summary: Get user preferences profile
      description: >
        Returns a user preference profile that describes how the user prefers
        to receive answers (length, structure, style, etc.).
      parameters:
        - name: userId
          in: path
          required: true
          description: The user identifier used by the calling platform.
          schema:
            type: string
      responses:
        "200":
          description: User preferences profile
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/UserPreferencesResponse"
        "401":
          description: Unauthorized - invalid API key

components:
  schemas:
    UserPreferencesResponse:
      type: object
      properties:
        user_id:
          type: string
        prefs_version:
          type: string
        created_at:
          type: string
          format: date-time
        preferences:
          type: object
          properties:
            content:
              type: object
              properties:
                answer_length:
                  type: string
                reasoning_depth:
                  type: string
            style:
              type: object
              properties:
                tone:
                  type: string
                language_style:
                  type: string
            format:
              type: object
              properties:
                structure:
                  type: string
                visual_formatting:
                  type: string
            ui_design:
              type: object
            ux:
              type: object
